<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–∞–ª–∞–Ω—Ç–æ–≤ –ê–ª–ª–æ–¥–æ–≤</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>üéÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–∞–ª–∞–Ω—Ç–æ–≤ –ê–ª–ª–æ–¥–æ–≤</h1>
        
        <div class="mode-selector">
            <button class="mode-btn active" data-mode="calculator">üßÆ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</button>
            <button class="mode-btn" data-mode="editor">‚öôÔ∏è –†–µ–¥–∞–∫—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö</button>
        </div>
        
        <!-- –†–µ–∂–∏–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ -->
        <div class="mode-content active" id="calculatorMode">
            <div class="class-selector">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å:</h3>
                <div class="class-buttons" id="classButtons"></div>
            </div>
            
            <div class="branches-container" id="branchesContainer"></div>
            
            <div class="info-panel">
                <div class="points-display">
                    <div class="points-box">
                        <h4>–û—á–∫–∏ —Ç–∞–ª–∞–Ω—Ç–æ–≤</h4>
                        <div class="points-value" id="talentPoints">0</div>
                        <div>–∏–∑ <span id="maxTalentPoints">0</span> –¥–æ—Å—Ç—É–ø–Ω–æ</div>
                    </div>
                    <div class="points-box">
                        <h4>–û—á–∫–∏ –≤–µ—Ö</h4>
                        <div class="points-value" id="milestonePoints">0</div>
                        <div>–∏–∑ <span id="maxMilestonePoints">0</span> –¥–æ—Å—Ç—É–ø–Ω–æ</div>
                    </div>
                </div>
                
                <div class="controls">
                    <button onclick="calculator.resetAll()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –≤—Å—ë</button>
                    <button onclick="calculator.exportBuild()">üì§ –≠–∫—Å–ø–æ—Ä—Ç –±–∏–ª–¥–∞</button>
                    <button onclick="calculator.importBuild()">üì• –ò–º–ø–æ—Ä—Ç –±–∏–ª–¥–∞</button>
                </div>
                
                <textarea id="buildCode" placeholder="–ö–æ–¥ –±–∏–ª–¥–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å..." readonly></textarea>
            </div>
        </div>
        
        <!-- –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
        <div class="mode-content" id="editorMode">
            <div class="editor-container">
                <h3>üìù –†–µ–¥–∞–∫—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</h3>
                
                <div class="editor-tabs">
                    <button class="editor-tab active" data-tab="classes">üéØ –ö–ª–∞—Å—Å—ã –∏ —Ç–∞–ª–∞–Ω—Ç—ã</button>
                    <button class="editor-tab" data-tab="milestones">üî∑ –í–µ—Ö–∏</button>
                    <button class="editor-tab" data-tab="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
                
                <div class="tab-content active" id="classesTab">
                    <div class="editor-help">
                        <h4>–ö–∞–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã:</h4>
                        <p><strong>name</strong> - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞</p>
                        <p><strong>talents</strong> - –º–∞—Å—Å–∏–≤ —Ç–∞–ª–∞–Ω—Ç–æ–≤ (–∫–∞–∂–¥—ã–π –º–∞—Å—Å–∏–≤ = —Å—Ç—Ä–æ–∫–∞ –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ)</p>
                        <p><strong>id</strong> - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ç–∞–ª–∞–Ω—Ç–∞</p>
                        <p><strong>name</strong> - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–ª–∞–Ω—Ç–∞</p>
                        <p><strong>desc</strong> - –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–Ω–≥–∞ [—Ä–∞–Ω–≥1, —Ä–∞–Ω–≥2, —Ä–∞–Ω–≥3]</p>
                        <p><strong>max</strong> - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (–æ–±—ã—á–Ω–æ 3)</p>
                        <p><strong>req</strong> - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è [id_—Ç—Ä–µ–±—É–µ–º–æ–≥–æ_—Ç–∞–ª–∞–Ω—Ç–∞]</p>
                        <p><strong>icon</strong> - –∏–∫–æ–Ω–∫–∞ (—ç–º–æ–¥–∑–∏)</p>
                    </div>
                    <textarea class="json-editor" id="classesEditor"></textarea>
                </div>
                
                <div class="tab-content" id="milestonesTab">
                    <div class="editor-help">
                        <h4>–ö–∞–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ö–∏:</h4>
                        <p><strong>name</strong> - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –≤–µ—Ö</p>
                        <p><strong>desc</strong> - –æ–ø–∏—Å–∞–Ω–∏–µ –≤–µ—Ç–∫–∏</p>
                        <p><strong>disabledCells</strong> - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è—á–µ–µ–∫ [[x1,y1], [x2,y2]]</p>
                        <p><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</strong> [0,0] - –ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª, [4,4] - —Ü–µ–Ω—Ç—Ä</p>
                    </div>
                    <textarea class="json-editor" id="milestonesEditor"></textarea>
                </div>
                
                <div class="tab-content" id="settingsTab">
                    <div class="editor-help">
                        <h4>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞:</h4>
                        <p><strong>maxTalentPoints</strong> - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ —Ç–∞–ª–∞–Ω—Ç–æ–≤</p>
                        <p><strong>maxMilestonePoints</strong> - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –≤–µ—Ö</p>
                    </div>
                    <textarea class="json-editor" id="settingsEditor"></textarea>
                </div>
                
                <div class="editor-controls">
                    <button class="editor-btn" onclick="editor.saveAll()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                    <button class="editor-btn" onclick="editor.loadAll()">üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–æ–≤</button>
                    <button class="editor-btn" onclick="editor.resetToDefault()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω—ã–º</button>
                    <button class="editor-btn" onclick="switchMode('calculator')">üëÄ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ -->
    <script src="data/classes.js"></script>
    <script src="data/milestones.js"></script>
    
    <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã -->
    <script src="js/calculator.js"></script>
    <script src="js/editor.js"></script>
    <script src="js/ui.js"></script>
    
    <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            ui.init();
            calculator.init();
            editor.init();
        });
    </script>
</body>
</html>
